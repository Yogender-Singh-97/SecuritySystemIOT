<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Online Patrol System</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <!-- Required meta tags -->
    <%- include('./partials/head.ejs') %>

    <script>
      $(document).ready(function(){
       
        $(document).on('click', '#specific', function(){

          var html = '';
          var html2 = '';
          var selected_option=$( "#pid" ).val();
          $('#users_all').empty();
          var html2 = '';

          html2 +='<br/><select name="patrol_id" class="js-example-basic-single" style="width:79%">';
          html2 +='<%  users.forEach(function(user){   %><option value="<%= user.user_id %>"><%= user.firstname %>  <%= user.lastname %></option><% }) %></select>';
                        
          $('#users_all').append(html2); 

        });

        $(document).on('click', '#all', function(){
          $('#users_all').empty();
        });

      });
    </script>

  </head>
  <body>
    <div class="container-scroller">
      <!-- partial:partials/_sidebar.html -->
      <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <%- include('./partials/navigation.ejs') %>
      </nav>
        
      <div class="main-panel">
        <div class="content-wrapper">
          
          <div class="row">
            <div class="col-12 grid-margin stretch-card">
              <div class="card corona-gradient-card">
                <div class="card-body py-0 px-0 px-sm-3">
                  <div class="row align-items-center">
                    <div class="col-4 col-sm-3 col-xl-2">
                      <img src="/images/dashboard/Group126@2x.png" class="gradient-corona-img img-fluid" alt="">
                    </div>
                    <div class="col-5 col-sm-7 col-xl-8 p-0">
                      <h3 class="mb-1 mb-sm-0" style="text-align: center;">Patrol Report Generation</h3>
                      <p class="mb-0 font-weight-normal d-none d-sm-block" style="text-align: center;">
                        <i>Enter Patrol Parameters</i>
                      </p>
                    </div>
                    <div class="col-3 col-sm-2 col-xl-2 pl-0 text-center">                      
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <%- include ('./partials/messages'); %>
          <br/><br/>

          <div class="row">

            <div class="col-lg-8 mx-auto">
              <div class="card">
                <div class="card-body">
                  
                  <form action="/supervisor/pgenerate" method="POST" enctype="application/x-www-form-urlencoded">
                
                    <div class="form-group">
                      <label>Location </label>
                      <select name="patrol_id" id="pid" class="js-example-basic-single" style="width:100%">
                        <%  
                        patrols.forEach(function(patrol){ 
                        %>
                          <option value="<%= patrol.patrol_id %>"><%= patrol.patrol_name %></option>
                        <% 
                        }); 
                        %>
                      </select>
                    </div>
              
                    <div class="form-group">
                      <label for="election_title">Start Date</label>
                      <input type="date" class="form-control" name="start_date"  placeholder="" required>
                    </div>                    
                      
                    <div class="form-group">
                      <label for="election_title">Stop Date</label>
                      <input type="date" class="form-control" name="stop_date"  placeholder="" required>
                    </div>
                    
                    <div class="form-group">
                      <div class="form-check">
                        <label class="form-check-label">
                          <input type="radio" class="form-check-input" name="sel_opt" id="all" value="supervisor" checked>All Guards</label>
                      </div>

                      <div class="form-check">
                        <label class="form-check-label">
                          <input type="radio" class="form-check-input" name="sel_opt" id="specific" value="admin" >Specific Guard</label>
                      </div>          
                    </div>
                    <br/>

                    <button type="submit" class="btn btn-primary mr-2">Confirm</button>
                    <button class="btn btn-dark">Cancel</button>
                  </form>

                </div>
              </div>
            </div>
          <!-- partial(row) ends -->
          </div>
        <!-- content-wrapper ends -->
        </div>

        <footer class="footer">
          <%- include('./partials/footer.ejs') %>
        </footer>
      <!-- main-panel ends -->
      </div>      
    <!-- container-scroller ends-->
    </div>
    
    <!-- plugins:js -->
    <script src="/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <script src="/vendors/select2/select2.min.js"></script>
    <script src="/vendors/typeahead.js/typeahead.bundle.min.js"></script>
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="/js/off-canvas.js"></script>
    <script src="/js/hoverable-collapse.js"></script>
    <script src="/js/misc.js"></script>
    <script src="/js/settings.js"></script>
    <script src="/js/todolist.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page -->
    <script src="/js/file-upload.js"></script>
    <script src="/js/typeahead.js"></script>
    <script src="/js/select2.js"></script>
    <!-- End custom js for this page -->
  </body>
</html>